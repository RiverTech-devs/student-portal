{
  "rules": {
    "arcade": {

      "players": {
        "$supabase_uid": {
          ".read": true,
          ".write": "auth != null"
        }
      },

      "friends": {
        "$supabase_uid": {
          ".read": "auth != null",
          ".write": "auth != null",
          "list": {},
          "requests": {
            "incoming": {},
            "outgoing": {}
          },
          "invites": {}
        }
      },

      "games": {
        "$game_id": {
          "collections": {
            "$supabase_uid": {
              ".read": "auth != null",
              ".write": "auth != null"
            }
          },
          "decks": {
            "$supabase_uid": {
              ".read": true,
              ".write": "auth != null"
            }
          },
          "stats": {
            "$supabase_uid": {
              ".read": true,
              ".write": "auth != null"
            }
          }
        }
      },

      "matchmaking": {
        "$game_id": {
          "queue": {
            ".read": true,
            ".write": "auth != null"
          },
          "lobbies": {
            "$lobby_id": {
              ".read": true,
              ".write": "auth != null"
            }
          }
        }
      },

      "matches": {
        "$game_id": {
          "$match_id": {
            ".read": true,
            ".write": "auth != null"
          }
        }
      },

      "spectating": {
        "$match_id": {
          ".read": true,
          "spectators": {
            "$supabase_uid": {
              ".read": true,
              ".write": "auth != null"
            }
          }
        }
      },

      "leaderboards": {
        "$game_id": {
          ".read": true,
          ".write": false
        }
      }
    }
  }
}
