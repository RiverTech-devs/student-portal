<!DOCTYPE html> 
 <html lang="en"> 
 <head> 
 Â  Â  <meta charset="UTF-8"> 
 Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
 Â  Â  <title>Student Learning Portal</title> 
 Â  Â Â  
 Â  Â  Â  Â  <script src="shared/config.js"></script> 
 Â  Â  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script> 
 Â  Â Â  
 Â  Â  <style> 
 Â  Â  Â  Â :root{ 
 Â  Â  Â  Â  Â  --bg:#0f1216; 
 Â  Â  Â  Â  Â  --card:#151a21; 
 Â  Â  Â  Â  Â  --text:#e6edf3; 
 Â  Â  Â  Â  Â  --muted:#97a2b0; 
 Â  Â  Â  Â  Â  --accent:#6aa9ff; 
 Â  Â  Â  Â  Â  --accent-2:#8bffb0; 
 Â  Â  Â  Â  Â  --danger:#ff6a6a; 
 Â  Â  Â  Â  Â  --warning:#ffd36a; 
 Â  Â  Â  Â  Â  --link:#a0c2ff; 
 Â  Â  Â  Â  Â  --border:#2a3140; 
 Â  Â  Â  Â  Â Â  
 Â  Â  Â  Â  Â  /* Unified theme variables */ 
 Â  Â  Â  Â  Â  --primary: var(--accent); 
 Â  Â  Â  Â  Â  --secondary: var(--accent-2); 
 Â  Â  Â  Â  Â  --background: var(--bg); 
 Â  Â  Â  Â  Â  --card-bg: var(--card); 
 Â  Â  Â  Â  Â  --text-color: var(--text); 
 Â  Â  Â  Â  Â  --muted-color: var(--muted); 
 Â  Â  Â  Â  Â  --border-color: var(--border); 
 Â  Â  Â  Â  } 
 Â  Â  Â  Â Â  
 Â  Â  Â  Â  *{margin:0;padding:0;box-sizing:border-box} 
 Â  Â  Â  Â  html,body{height:100%} 
 Â  Â  Â  Â  body{ 
 Â  Â  Â  Â  Â  font-family:ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,Ubuntu,Cantarell; 
 Â  Â  Â  Â  Â  background:var(--bg); 
 Â  Â  Â  Â  Â  color:var(--text); 
 Â  Â  Â  Â  Â  -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; 
 Â  Â  Â  Â  } 
 Â  Â  Â  Â Â  
 Â  Â  Â  Â  /* Shell */ 
 Â  Â  Â  Â  .container{ 
 Â  Â  Â  Â  Â  background:var(--card); 
 Â  Â  Â  Â  Â  border:1px solid var(--border); 
 Â  Â  Â  Â  Â  border-radius:16px; 
 Â  Â  Â  Â  Â  width:100%; max-width:1200px; min-height:600px; overflow:hidden; 
 Â  Â  Â  Â  Â  box-shadow:0 10px 30px rgba(0,0,0,.35); 
 Â  Â  Â  Â  Â  margin: 20px auto; 
 Â  Â  Â  Â  } 
 Â  Â  Â  Â Â  
 Â  Â  Â  Â  /* Header */ 
 Â  Â  Â  Â  .header{ 
 Â  Â  Â  Â  Â  background:rgba(0,0,0,.25); 
 Â  Â  Â  Â  Â  border-bottom:1px solid var(--border); 
 Â  Â  Â  Â  Â  color:var(--text); 
 Â  Â  Â  Â  Â  padding:16px 20px; 
 Â  Â  Â  Â  Â  text-align:center; 
 Â  Â  Â  Â  Â  position:relative; 
 Â  Â  Â  Â  } 
 Â  Â  Â  Â  .header h1{font-size:20px;letter-spacing:.3px} 
 Â  Â  Â  Â  #welcome-message{opacity:.85} 
 Â  Â  Â  Â  .logout-btn{ 
 Â  Â  Â  Â  Â  position:absolute; right:20px; top:50%; transform:translateY(-50%); 
 Â  Â  Â  Â  Â  background:#0c1118; border:1px solid #223041; color:#e5e7eb; 
 Â  Â  Â  Â  Â  padding:6px 10px; border-radius:6px; font-size:12px; text-transform:uppercase; letter-spacing:.08em; cursor:pointer; 
 Â  Â  Â  Â  } 
 Â  Â  Â  Â  .logout-btn:hover{border-color:var(--accent-2); box-shadow:0 0 0 2px rgba(139,255,176,.08)} 
 Â  Â  Â  Â Â  
 Â  Â  Â  Â  /* Top nav tabs */ 
 Â  Â  Â  Â  .nav-tabs{ 
 Â  Â  Â  Â  Â  display:flex; gap:0; background:#0c1118; border-bottom:1px solid var(--border); 
 Â  Â  Â  Â  } 
 Â  Â  Â  Â  .nav-tab{ 
 Â  Â  Â  Â  Â  flex:1; padding:12px 14px; text-align:center; cursor:pointer; border:0; 
 Â  Â  Â  Â  Â  background:transparent; color:#c7d2fe; 
 Â  Â  Â  Â  Â  transition:color .15s ease, background-color .15s ease, border-color .15s ease; 
 Â  Â  Â  Â  Â  display: inline-block; 
 Â  Â  Â  Â  Â  text-decoration: none; 
 Â  Â  Â  Â  Â  font-family: inherit; 
 Â  Â  Â  Â  Â  font-size: inherit; 
 Â  Â  Â  Â  } 
 Â  Â  Â  Â  .nav-tab:hover{background:rgba(255,255,255,.02); color:#a5b4fc} 
 Â  Â  Â  Â  .nav-tab.active{ 
 Â  Â  Â  Â  Â  color:var(--accent); font-weight:700; border-bottom:3px solid var(--accent); background:#0b0f14; 
 Â  Â  Â  Â  } 
 Â  Â  Â  Â Â  
 Â  Â  Â  Â  /* Content area */ 
 Â  Â  Â  Â  .content{padding:20px; min-height:400px} 
 Â  Â  Â  Â Â  
 Â  Â  Â  Â  /* Cards & layout */ 
 Â  Â  Â  Â  .dashboard{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:16px;margin-top:16px} 
 Â  Â  Â  Â  .card{ 
 Â  Â  Â  Â  Â  background:#0c1118; 
 Â  Â  Â  Â  Â  border:1px solid #223041; 
 Â  Â  Â  Â  Â  border-radius:12px; padding:16px; 
 Â  Â  Â  Â  Â  box-shadow:0 6px 16px rgba(0,0,0,.25); 
 Â  Â  Â  Â  } 
 Â  Â  Â  Â  .card h3{margin-bottom:8px} 
 Â  Â  Â  Â Â  
 Â  Â  Â  Â  /* Forms */ 
 Â  Â  Â  Â  .form-group{margin-bottom:14px; text-align:left} 
 Â  Â  Â  Â  .form-group label{display:block;margin-bottom:6px;font-weight:600;color:var(--text)} 
 Â  Â  Â  Â  .form-group input,.form-group select, .form-group textarea{ 
 Â  Â  Â  Â  Â  width:100%; padding:10px 12px; border-radius:10px; 
 Â  Â  Â  Â  Â  background:#0e1319; color:var(--text); border:1px solid var(--border); font-size:14px; 
 Â  Â  Â  Â  } 
 Â  Â  Â  Â  .auth-form{max-width:400px;margin:0 auto;text-align:center} 
 Â  Â  Â  Â Â  
 Â  Â  Â  Â  /* Buttons */ 
 Â  Â  Â  Â  .btn{ 
 Â  Â  Â  Â  Â  appearance:none; border:1px solid #223041; background:#0c1118; color:#e5e7eb; 
 Â  Â  Â  Â  Â  padding:6px 10px; border-radius:6px; font-size:12px; text-transform:uppercase; letter-spacing:.08em; cursor:pointer; 
 Â  Â  Â  Â  Â  transition:border-color .15s ease, box-shadow .15s ease, background-color .15s ease, transform .02s ease; 
 Â  Â  Â  Â  } 
 Â  Â  Â  Â  .btn:hover{border-color:#39ff88; box-shadow:0 0 0 2px rgba(57,255,136,.1), inset 0 0 0 1px rgba(57,255,136,.15); background:#0b0f14} 
 Â  Â  Â  Â  .btn:active{transform:translateY(0)} 
 Â  Â  Â  Â  .btn.small{padding:4px 8px; font-size:11px; letter-spacing:.09em} 
 Â  Â  Â  Â Â  
 Â  Â  Â  Â  .btn-primary{ 
 Â  Â  Â  Â  Â  background:linear-gradient(135deg, var(--accent) 0%, var(--accent-2) 100%); 
 Â  Â  Â  Â  Â  color:#0b0f14; border-color:transparent; 
 Â  Â  Â  Â  } 
 Â  Â  Â  Â  .btn-primary:hover{filter:brightness(1.05)} 
 Â  Â  Â  Â  .btn-secondary{background:#2b3442;color:var(--text);border:1px solid var(--border)} 
 Â  Â  Â  Â  .btn-secondary:hover{border-color:var(--accent)} 
 Â  Â  Â  Â Â  
 Â  Â  Â  Â  .btn-danger{background:#dc3545;color:#fff;border:1px solid #dc3545} 
 Â  Â  Â  Â  .btn-danger:hover{background:#c82333;border-color:#bd2130; box-shadow:0 0 0 2px rgba(220,53,69,.25)} 
 Â  Â  Â  Â Â  
 Â  Â  Â  Â  .hidden{display:none} 
 Â  Â  Â  Â Â  
 Â  Â  Â  Â  /* Alerts */ 
 Â  Â  Â  Â  .alert{padding:12px;border-radius:8px;margin:12px 0;border:1px solid var(--border)} 
 Â  Â  Â  Â  .alert-success{background:rgba(139,255,176,.08); color:#b5ffd0; border-color:rgba(139,255,176,.25)} 
 Â  Â  Â  Â  .alert-error{background:rgba(255,107,107,.08); color:#ffb3b3; border-color:rgba(255,107,107,.25)} 
 Â  Â  Â  Â Â  
 Â  Â  Â  Â  /* Stats */ 
 Â  Â  Â  Â  .stats{display:flex;justify-content:space-between;gap:12px;margin:10px 0} 
 Â  Â  Â  Â  .stat{text-align:center} 
 Â  Â  Â  Â  .stat-value{font-size:22px;font-weight:700;color:var(--accent)} 
 Â  Â  Â  Â  .stat-label{font-size:12px;color:var(--muted)} 
 Â  Â  Â  Â Â  
 Â  Â  Â  Â  /* Progress */ 
 Â  Â  Â  Â  .progress-bar{background:#0e1319;border:1px solid var(--border);border-radius:10px;height:16px;overflow:hidden;margin:10px 0} 
 Â  Â  Â  Â  .progress-fill{background:linear-gradient(90deg,var(--accent),var(--accent-2));height:100%;border-radius:10px;transition:width .3s ease} 
 Â  Â  Â  Â Â  
 Â  Â  Â  Â  /* Game grid/cards */ 
 Â  Â  Â  Â  .game-list{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:12px;margin-top:16px} 
 Â  Â  Â  Â  .game-card{ 
 Â  Â  Â  Â  Â  background:#0b1017; border:1px solid #1a2330; color:#e5e7eb; 
 Â  Â  Â  Â  Â  border-radius:12px; padding:16px; text-align:center; cursor:pointer; transition:transform .2s ease, border-color .15s ease, box-shadow .15s ease; 
 Â  Â  Â  Â  } 
 Â  Â  Â  Â  .game-card:hover{transform:translateY(-4px); border-color:#39ff88; box-shadow:0 0 0 2px rgba(57,255,136,.08)} 
 Â  Â  Â  Â Â  
 Â  Â  Â  Â  /* Tables */ 
 Â  Â  Â  Â  table{width:100%;border-collapse:collapse;margin-top:8px} 
 Â  Â  Â  Â  th,td{border-bottom:1px solid var(--border);padding:8px;text-align:left} 
 Â  Â  Â  Â Â  
 Â  Â  Â  Â  /* Links */ 
 Â  Â  Â  Â  a{color:var(--link)} 
 Â  Â  Â  Â  a:hover{color:var(--accent)} 
 Â  Â  Â  Â Â  
 Â  Â  Â  Â  /* Unified Navigation Integration */ 
 Â  Â  Â  Â  .main-wrapper { 
 Â  Â  Â  Â  Â  display: flex; 
 Â  Â  Â  Â  Â  flex-direction: column; 
 Â  Â  Â  Â  Â  min-height: 100vh; 
 Â  Â  Â  Â  } 
 Â  Â  Â  Â Â  
 Â  Â  Â  Â  .portal-content { 
 Â  Â  Â  Â  Â  flex: 1; 
 Â  Â  Â  Â  Â  display: flex; 
 Â  Â  Â  Â  Â  align-items: center; 
 Â  Â  Â  Â  Â  justify-content: center; 
 Â  Â  Â  Â  Â  padding: 20px; 
 Â  Â  Â  Â  } 
 Â  Â  Â  Â Â  
 Â  Â  Â  Â  /* When authenticated, adjust layout */ 
 Â  Â  Â  Â  .authenticated .portal-content { 
 Â  Â  Â  Â  Â  align-items: flex-start; 
 Â  Â  Â  Â  Â  padding-top: 0; 
 Â  Â  Â  Â  } 
 Â  Â  Â  Â Â  
 Â  Â  Â  Â  /* Hide old navigation when unified nav is present */ 
 Â  Â  Â  Â  .authenticated .header { 
 Â  Â  Â  Â  Â  display: none; 
 Â  Â  Â  Â  } 
 Â  Â  Â  Â Â  
 Â  Â  Â  Â  .authenticated .nav-tabs { 
 Â  Â  Â  Â  Â  display: none; 
 Â  Â  Â  Â  } 
 Â  Â  Â  Â Â  
 Â  Â  Â  Â  .authenticated .container { 
 Â  Â  Â  Â  Â  margin: 0; 
 Â  Â  Â  Â  Â  border-radius: 0; 
 Â  Â  Â  Â  Â  border: none; 
 Â  Â  Â  Â  Â  box-shadow: none; 
 Â  Â  Â  Â  Â  background: transparent; 
 Â  Â  Â  Â  Â  max-width: none; 
 Â  Â  Â  Â  Â  width: 100%; 
 Â  Â  Â  Â  } 
 Â  Â  Â  Â Â  
 Â  Â  Â  Â  /* Animations */ 
 Â  Â  Â  Â  @keyframes slideIn{from{transform:translateX(100%);opacity:0}to{transform:translateX(0);opacity:1}} 

 Â  Â  Â  Â  /* Math Placement Test Banner */ 
 Â  Â  Â  Â  .placement-banner { 
 Â  Â  Â  Â  Â  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
 Â  Â  Â  Â  Â  border: 1px solid rgba(255, 255, 255, 0.1); 
 Â  Â  Â  Â  Â  border-radius: 12px; 
 Â  Â  Â  Â  Â  padding: 20px; 
 Â  Â  Â  Â  Â  margin: 20px 0; 
 Â  Â  Â  Â  Â  text-align: center; 
 Â  Â  Â  Â  Â  color: white; 
 Â  Â  Â  Â  Â  box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3); 
 Â  Â  Â  Â  } 
 Â  Â  Â  Â Â  
 Â  Â  Â  Â  .placement-banner h3 { 
 Â  Â  Â  Â  Â  margin-bottom: 10px; 
 Â  Â  Â  Â  Â  font-size: 1.3rem; 
 Â  Â  Â  Â  } 
 Â  Â  Â  Â Â  
 Â  Â  Â  Â  .placement-banner p { 
 Â  Â  Â  Â  Â  margin-bottom: 15px; 
 Â  Â  Â  Â  Â  opacity: 0.9; 
 Â  Â  Â  Â  } 
 Â  Â  Â  Â Â  
 Â  Â  Â  Â  .placement-test-btn { 
 Â  Â  Â  Â  Â  background: rgba(255, 255, 255, 0.2); 
 Â  Â  Â  Â  Â  border: 2px solid rgba(255, 255, 255, 0.3); 
 Â  Â  Â  Â  Â  color: white; 
 Â  Â  Â  Â  Â  padding: 12px 24px; 
 Â  Â  Â  Â  Â  border-radius: 8px; 
 Â  Â  Â  Â  Â  font-size: 14px; 
 Â  Â  Â  Â  Â  font-weight: 600; 
 Â  Â  Â  Â  Â  cursor: pointer; 
 Â  Â  Â  Â  Â  transition: all 0.2s ease; 
 Â  Â  Â  Â  Â  text-decoration: none; 
 Â  Â  Â  Â  Â  display: inline-block; 
 Â  Â  Â  Â  } 
 Â  Â  Â  Â Â  
 Â  Â  Â  Â  .placement-test-btn:hover { 
 Â  Â  Â  Â  Â  background: rgba(255, 255, 255, 0.3); 
 Â  Â  Â  Â  Â  border-color: rgba(255, 255, 255, 0.5); 
 Â  Â  Â  Â  Â  transform: translateY(-2px); 
 Â  Â  Â  Â  Â  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3); 
 Â  Â  Â  Â  } 
 Â  Â  </style> 
 </head> 
 <body> 
 Â  Â  <div class="main-wrapper"> 
 Â  Â  Â  Â  Â  Â  Â  Â  <div id="unified-nav-container"></div> 
 Â  Â  Â  Â Â  
 Â  Â  Â  Â  <div class="portal-content"> 
 Â  Â  Â  Â  Â  Â  <div class="container"> 
 Â  Â  Â  Â  Â  Â  Â  Â  <div class="header"> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h1>ğŸ“ Student Learning Portal</h1> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p id="welcome-message">Welcome to your learning dashboard</p> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="logout-btn hidden" id="logout-btn">Logout</button> 
 Â  Â  Â  Â  Â  Â  Â  Â  </div> 

 Â  Â  Â  Â  Â  Â  Â  Â  <div class="nav-tabs"> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="nav-tab" id="login-tab">Login</button> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="nav-tab" id="dashboard-tab" style="display:none;">Dashboard</button> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="nav-tab" id="games-tab" style="display:none;">Games</button> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="nav-tab" id="skills-tab" style="display:none;">Skills</button> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="nav-tab" id="grades-tab" style="display:none;">Grades</button> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <a class="nav-tab" id="portal-tab" href="portal/" style="display:none;">ğŸ“š Classes & Messaging</a> 
 Â  Â  Â  Â  Â  Â  Â  Â  </div> 

 Â  Â  Â  Â  Â  Â  Â  Â  <div class="content"> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="login-section" class="hidden"> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="auth-form"> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h2>Student Portal Login</h2> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="auth-alerts"></div> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="placement-banner"> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3>ğŸ“ Math Placement Test</h3> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>Discover your math level and get personalized course recommendations</p> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <a href="tests/math-placement-test.html" class="placement-test-btn"> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ğŸš€ Take Placement Test 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </a> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <form id="login-form"> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="form-group"> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="email">Email Address</label> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="email" id="email" required> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="form-group"> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="password">Password</label> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="password" id="password" required> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button type="submit" class="btn btn-primary" id="login-btn">Login</button> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button type="button" class="btn btn-secondary" id="register-btn">Register New Account</button> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p style="margin-top: 15px; text-align: center;"> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <a href="#" id="forgot-password-link" style="color: #4facfe;">Forgot Password?</a> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </p> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </form> 

 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <form id="register-form" class="hidden"> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3>Create New Account</h3> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="form-group"> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="reg-email">Email Address</label> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="email" id="reg-email" required> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="form-group"> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="reg-password">Password</label> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="password" id="reg-password" required minlength="6"> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="form-group"> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="reg-username">Username</label> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" id="reg-username" required> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="form-group"> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="reg-firstname">First Name</label> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" id="reg-firstname" required> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="form-group"> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="reg-lastname">Last Name</label> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" id="reg-lastname" required> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="form-group"> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="reg-usertype">Account Type</label> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <select id="reg-usertype" required> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="student">Student</option> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="parent">Parent</option> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="teacher">Teacher</option> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </select> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="form-group" id="grade-group"> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="reg-grade">Grade Level (for students)</label> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <select id="reg-grade"> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="">Select Grade</option> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="K">Kindergarten</option> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="1">1st Grade</option> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="2">2nd Grade</option> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="3">3rd Grade</option> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="4">4th Grade</option> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="5">5th Grade</option> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="6">6th Grade</option> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="7">7th Grade</option> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="8">8th Grade</option> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="9">9th Grade</option> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="10">10th Grade</option> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="11">11th Grade</option> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="12">12th Grade</option> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </select> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="form-group" id="child-email-group" style="display:none;"> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="child-emails">Children's Email Addresses</label> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <textarea id="child-emails" rows="4" placeholder="Enter each child's email address on a separate line:&#10;child1@yourschool.edu&#10;child2@yourschool.edu&#10;child3@yourschool.edu" style="width: 100%; padding: 12px; border: 2px solid #dee2e6; border-radius: 8px; font-size: 16px; font-family: inherit; resize: vertical;"></textarea> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <small style="color: #666; font-size: 12px;">Enter one email address per line for each child's student account</small> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button type="submit" class="btn btn-primary" id="register-submit-btn">Register</button> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button type="button" class="btn btn-secondary" id="back-to-login-btn">Back to Login</button> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </form> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div> 

 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="dashboard-section" class="hidden"> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div> 

 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="games-section" class="hidden"> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h2>ğŸ® Educational Games</h2> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="game-list"> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="game-card" data-game="mathletics"> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3>ğŸ¯ Mathletics</h3> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>Master multiplication facts through adaptive practice</p> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="stats"> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="stat"> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="stat-value" id="mathletics-range">0-2</div> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="stat-label">Current Range</div> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="stat"> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="stat-value" id="mathletics-mastery">Bronze</div> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="stat-label">Mastery Level</div> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="game-card" data-game="word-wizard"> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3>ğŸ“š Word Wizard</h3> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>Spelling and vocabulary</p> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="stats"> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="stat"> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="stat-value" style="color: var(--warning);">Incomplete</div> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="stat-label">Status</div> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="game-card" data-game="science-lab"> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3>ğŸ§ª Science Lab</h3> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>Fun science experiments</p> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="stats"> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="stat"> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="stat-value" style="color: var(--warning);">Incomplete</div> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="stat-label">Status</div> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="game-card" data-game="history-quest"> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3>ğŸ›ï¸ History Quest</h3> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>Explore historical events</p> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="stats"> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="stat"> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="stat-value" style="color: var(--warning);">Incomplete</div> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="stat-label">Status</div> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="game-card" data-game="practice-pilot"> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3>ğŸš€ Practice Pilot</h3> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>Control a spaceship while shooting at math problems and Spanish translations!</p> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="stats"> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="stat"> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="stat-value" style="color: var(--accent-2);">Complete</div> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="stat-label">Status</div> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="game-card" data-game="teacher-challenge"> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3>ğŸ‘©â€ğŸ« Teacher Challenge</h3> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>Talk to AI teachers as you complete challenges!</p> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="stats"> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="stat"> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="stat-value" style="color: var(--accent-2);">Complete</div> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="stat-label">Status</div> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="game-card" data-game="dimension-shift"> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3>ğŸŒ€ Dimension Shift</h3> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>Navigate through a maze in a mind-boggling 2.5 dimensional realm!</p> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="stats"> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="stat"> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="stat-value" style="color: var(--accent-2);">Complete</div> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="stat-label">Status</div> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="game-card" data-game="clockwork-defense"> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3>ğŸ•°ï¸ Clockwork Defense</h3> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>Defend your clocktower by checking the time!</p> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="stats"> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="stat"> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="stat-value" style="color: var(--accent-2);">Complete</div> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="stat-label">Status</div> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â  
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="game-iframe-container" class="hidden" style="margin-top: 30px;"> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;"> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3 id="current-game-title"></h3> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="btn btn-secondary" id="close-game-btn">Close Game</button> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <iframe id="game-iframe" width="100%" height="500" frameborder="0"></iframe> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div> 

 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="skills-section" class="hidden"> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h2>ğŸŒŸ Skill Trees</h2> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="subject-tabs" style="display: flex; gap: 10px; margin-bottom: 20px; flex-wrap: wrap;"> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="btn btn-primary skill-tree-btn" data-subject="Art" style="margin-bottom: 10px;"> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ğŸ¨ Art 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="btn btn-primary skill-tree-btn" data-subject="Math" style="margin-bottom: 10px;"> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ğŸ“ Math 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="btn btn-primary skill-tree-btn" data-subject="Science" style="margin-bottom: 10px;"> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ğŸ”¬ Science 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="btn btn-primary skill-tree-btn" data-subject="Reading" style="margin-bottom: 10px;"> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ğŸ“š Reading 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="btn btn-primary skill-tree-btn" data-subject="Programming" style="margin-bottom: 10px;"> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ğŸ’» Programming 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="btn btn-primary skill-tree-btn" data-subject="Robotics" style="margin-bottom: 10px;"> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ğŸ¤– Robotics 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="skill-tree-container" style="width: 100%; height: 600px; border: 2px solid #dee2e6; border-radius: 10px; overflow: hidden; background: #f8f9fa;"> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div style="display: flex; align-items: center; justify-content: center; height: 100%; color: #666;"> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div style="text-align: center;"> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div style="font-size: 48px; margin-bottom: 20px;">ğŸŒŸ</div> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3>Select a Subject</h3> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>Choose a subject above to explore your skill tree</p> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div> 

 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="grades-section" class="hidden"> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h2>ğŸ“Š Grades & Assignments</h2> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="grades-content"> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>No grades available yet</p> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div> 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div> 
 Â  Â  Â  Â  Â  Â  Â  Â  </div> 
 Â  Â  Â  Â  Â  Â  </div> 
 Â  Â  Â  Â  </div> 
 Â  Â  </div> 

 Â  Â  <script> 
 Â  Â  Â  Â  // Enhanced StudentPortal class with unified integration 
 Â  Â  Â  Â  class StudentPortal { 
 Â  Â  Â  Â  Â  Â  constructor() { 
 Â  Â  Â  Â  Â  Â  Â  Â  this.initialized = false; 
 Â  Â  Â  Â  Â  Â  Â  Â  this.currentSection = 'dashboard'; 
 Â  Â  Â  Â  Â  Â  Â  Â  this.eventListeners = new Set(); 
 Â  Â  Â  Â  Â  Â  Â  Â  this.skillTreeIntegration = null; 
 Â  Â  Â  Â  Â  Â  Â  Â Â  
 Â  Â  Â  Â  Â  Â  Â  Â  // Wait for shared auth to be ready 
 Â  Â  Â  Â  Â  Â  Â  Â  this.waitForAuth().then(() => { 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.init(); 
 Â  Â  Â  Â  Â  Â  Â  Â  }); 
 Â  Â  Â  Â  Â  Â  } 

 Â  Â  Â  Â  Â  Â  async waitForAuth() { 
 Â  Â  Â  Â  Â  Â  Â  Â  // Wait for portalAuth to be initialized 
 Â  Â  Â  Â  Â  Â  Â  Â  while (!window.portalAuth || !window.portalAuth.initialized) { 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  await new Promise(resolve => setTimeout(resolve, 100)); 
 Â  Â  Â  Â  Â  Â  Â  Â  } 
 Â  Â  Â  Â  Â  Â  Â  Â  this.auth = window.portalAuth; 
 Â  Â  Â  Â  Â  Â  } 

 Â  Â  Â  Â  Â  Â  async init() { 
 Â  Â  Â  Â  Â  Â  Â  Â  if (this.initialized) return; 
 Â  Â  Â  Â  Â  Â  Â  Â  this.initialized = true; 
 Â  Â  Â  Â  Â  Â  Â  Â Â  
 Â  Â  Â  Â  Â  Â  Â  Â  console.log('ğŸš€ Initializing StudentPortal with unified auth...'); 
 Â  Â  Â  Â  Â  Â  Â  Â Â  
 Â  Â  Â  Â  Â  Â  Â  Â  // Set up skill tree integration 
 Â  Â  Â  Â  Â  Â  Â  Â  this.skillTreeIntegration = new SkillTreeIntegration(this); 
 Â  Â  Â  Â  Â  Â  Â  Â  await this.skillTreeIntegration.initialize(); 
 Â  Â  Â  Â  Â  Â  Â  Â Â  
 Â  Â  Â  Â  Â  Â  Â  Â  // Set up event listeners 
 Â  Â  Â  Â  Â  Â  Â  Â  this.setupEventListeners(); 
 Â  Â  Â  Â  Â  Â  Â  Â Â  
 Â  Â  Â  Â  Â  Â  Â  Â  // Listen for auth state changes 
 Â  Â  Â  Â  Â  Â  Â  Â  window.addEventListener('portalAuthChange', (e) => { 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.handleAuthStateChange(e.detail); 
 Â  Â  Â  Â  Â  Â  Â  Â  }); 
 Â  Â  Â  Â  Â  Â  Â  Â Â  
 Â  Â  Â  Â  Â  Â  Â  Â  // Check initial auth state 
 Â  Â  Â  Â  Â  Â  Â  Â  if (this.auth.isAuthenticated()) { 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.showAuthenticatedState(); 
 Â  Â  Â  Â  Â  Â  Â  Â  } else { 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.showLoginForm(); 
 Â  Â  Â  Â  Â  Â  Â  Â  } 
 Â  Â  Â  Â  Â  Â  Â  Â Â  
 Â  Â  Â  Â  Â  Â  Â  Â  // Handle hash navigation 
 Â  Â  Â  Â  Â  Â  Â  Â  this.handleHashNavigation(); 
 Â  Â  Â  Â  Â  Â  Â  Â  window.addEventListener('hashchange', () => this.handleHashNavigation()); 

 Â  Â  Â  Â  Â  Â  Â  Â  // Handle messages from Mathletics iframe 
 Â  Â  Â  Â  Â  Â  Â  Â  window.addEventListener('message', (event) => { 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (event.data.action === 'closeGame') { 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.closeGame(); 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else if (event.data.action === 'progressUpdated') { 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // Refresh Mathletics progress display 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setTimeout(() => this.updateMathleticsProgress(), 1000); 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } 
 Â  Â  Â  Â  Â  Â  Â  Â  }); 
 Â  Â  Â  Â  Â  Â  Â  Â Â  
 Â  Â  Â  Â  Â  Â  Â  Â  console.log('âœ… StudentPortal initialized'); 
 Â  Â  Â  Â  Â  Â  } 

 Â  Â  Â  Â  Â  Â  handleAuthStateChange(detail) { 
 Â  Â  Â  Â  Â  Â  Â  Â  if (detail.event === 'SIGNED_IN') { 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.showAuthenticatedState(); 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  window.PortalUI.showNotification(`Welcome back, ${detail.profile?.first_name || 'User'}!`, 'success'); 
 Â  Â  Â  Â  Â  Â  Â  Â  } else if (detail.event === 'SIGNED_OUT') { 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.showLoginForm(); 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  document.body.classList.remove('authenticated'); 
 Â  Â  Â  Â  Â  Â  Â  Â  } 
 Â  Â  Â  Â  Â  Â  } 

 Â  Â  Â  Â  Â  Â  showAuthenticatedState() { 
 Â  Â  Â  Â  Â  Â  Â  Â  document.body.classList.add('authenticated'); 
 Â  Â  Â  Â  Â  Â  Â  Â Â  
 Â  Â  Â  Â  Â  Â  Â  Â  // Show unified navigation 
 Â  Â  Â  Â  Â  Â  Â  Â  const navContainer = document.getElementById('unified-nav-container'); 
 Â  Â  Â  Â  Â  Â  Â  Â  if (navContainer) { 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  navContainer.innerHTML = window.PortalUI.createUnifiedNavigation('main', this.currentSection); 
 Â  Â  Â  Â  Â  Â  Â  Â  } 
 Â  Â  Â  Â  Â  Â  Â  Â Â  
 Â  Â  Â  Â  Â  Â  Â  Â  // Hide login elements 
 Â  Â  Â  Â  Â  Â  Â  Â  const loginSection = document.getElementById('login-section'); 
 Â  Â  Â  Â  Â  Â  Â  Â  if (loginSection) loginSection.classList.add('hidden'); 
 Â  Â  Â  Â  Â  Â  Â  Â Â  
 Â  Â  Â  Â  Â  Â  Â  Â  // Show appropriate dashboard 
 Â  Â  Â  Â  Â  Â  Â  Â  const userInfo = this.auth.getUserInfo(); 
 Â  Â  Â  Â  Â  Â  Â  Â  if (userInfo.profile?.user_type === 'parent' || userInfo.profile?.user_type === 'teacher') { 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.loadParentTeacherDashboard(); 
 Â  Â  Â  Â  Â  Â  Â  Â  } else { 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.loadStudentDashboard(); 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setTimeout(() => this.updateMathleticsProgress(), 500);Â  // Update Mathletics progress 
 Â  Â  Â  Â  Â  Â  Â  Â  } 
 Â  Â  Â  Â  Â  Â  Â  Â Â  
 Â  Â  Â  Â  Â  Â  Â  Â  this.showTab('dashboard'); 
 Â  Â  Â  Â  Â  Â  } 

 Â  Â  Â  Â  Â  Â  showLoginForm() { 
 Â  Â  Â  Â  Â  Â  Â  Â  document.body.classList.remove('authenticated'); 
 Â  Â  Â  Â  Â  Â  Â  Â Â  
 Â  Â  Â  Â  Â  Â  Â  Â  // Hide unified navigation 
 Â  Â  Â  Â  Â  Â  Â  Â  const navContainer = document.getElementById('unified-nav-container'); 
 Â  Â  Â  Â  Â  Â  Â  Â  if (navContainer) navContainer.innerHTML = ''; 
 Â  Â  Â  Â  Â  Â  Â  Â Â  
 Â  Â  Â  Â  Â  Â  Â  Â  // Show login 
 Â  Â  Â  Â  Â  Â  Â  Â  this.showTab('login'); 
 Â  Â  Â  Â  Â  Â  Â  Â  const loginForm = document.getElementById('login-form'); 
 Â  Â  Â  Â  Â  Â  Â  Â  const registerForm = document.getElementById('register-form'); 
 Â  Â  Â  Â  Â  Â  Â  Â  if (loginForm) loginForm.classList.remove('hidden'); 
 Â  Â  Â  Â  Â  Â  Â  Â  if (registerForm) registerForm.classList.add('hidden'); 
 Â  Â  Â  Â  Â  Â  } 

 Â  Â  Â  Â  Â  Â  handleHashNavigation() { 
 Â  Â  Â  Â  Â  Â  Â  Â  const hash = window.location.hash.substring(1); 
 Â  Â  Â  Â  Â  Â  Â  Â  if (hash && this.auth.isAuthenticated()) { 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.showTab(hash); 
 Â  Â  Â  Â  Â  Â  Â  Â  } 
 Â  Â  Â  Â  Â  Â  } 

 Â  Â  Â  Â  Â  Â  setupEventListeners() { 
 Â  Â  Â  Â  Â  Â  Â  Â  // Auth forms 
 Â  Â  Â  Â  Â  Â  Â  Â  this.addSafeEventListener('login-form', 'submit', (e) => this.handleLogin(e)); 
 Â  Â  Â  Â  Â  Â  Â  Â  this.addSafeEventListener('register-form', 'submit', (e) => this.handleRegister(e)); 
 Â  Â  Â  Â  Â  Â  Â  Â Â  
 Â  Â  Â  Â  Â  Â  Â  Â  // Auth navigation 
 Â  Â  Â  Â  Â  Â  Â  Â  this.addSafeEventListener('register-btn', 'click', () => this.showRegisterForm()); 
 Â  Â  Â  Â  Â  Â  Â  Â  this.addSafeEventListener('back-to-login-btn', 'click', () => this.showLoginForm()); 
 Â  Â  Â  Â  Â  Â  Â  Â  this.addSafeEventListener('forgot-password-link', 'click', (e) => { 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  e.preventDefault(); 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.showForgotPasswordForm(); 
 Â  Â  Â  Â  Â  Â  Â  Â  }); 
 Â  Â  Â  Â  Â  Â  Â  Â Â  
 Â  Â  Â  Â  Â  Â  Â  Â  // User type handling 
 Â  Â  Â  Â  Â  Â  Â  Â  this.addSafeEventListener('reg-usertype', 'change', (e) => this.handleUserTypeChange(e)); 
 Â  Â  Â  Â  Â  Â  Â  Â Â  
 Â  Â  Â  Â  Â  Â  Â  Â  // Legacy tab navigation (for when not authenticated) 
 Â  Â  Â  Â  Â  Â  Â  Â  this.addSafeEventListener('login-tab', 'click', () => this.showTab('login')); 
 Â  Â  Â  Â  Â  Â  Â  Â  this.addSafeEventListener('dashboard-tab', 'click', () => this.showTab('dashboard')); 
 Â  Â  Â  Â  Â  Â  Â  Â  this.addSafeEventListener('games-tab', 'click', () => this.showTab('games')); 
 Â  Â  Â  Â  Â  Â  Â  Â  this.addSafeEventListener('skills-tab', 'click', () => this.showTab('skills')); 
 Â  Â  Â  Â  Â  Â  Â  Â  this.addSafeEventListener('grades-tab', 'click', () => this.showTab('grades')); 
 Â  Â  Â  Â  Â  Â  Â  Â Â  
 Â  Â  Â  Â  Â  Â  Â  Â  // Game and skill interactions 
 Â  Â  Â  Â  Â  Â  Â  Â  this.addGameCardListeners(); 
 Â  Â  Â  Â  Â  Â  Â  Â  this.addSkillTreeListeners(); 
 Â  Â  Â  Â  Â  Â  Â  Â  this.addSafeEventListener('close-game-btn', 'click', () => this.closeGame()); 
 Â  Â  Â  Â  Â  Â  Â  Â Â  
 Â  Â  Â  Â  Â  Â  Â  Â  // Legacy logout 
 Â  Â  Â  Â  Â  Â  Â  Â  this.addSafeEventListener('logout-btn', 'click', () => this.auth.logout()); 
 Â  Â  Â  Â  Â  Â  } 

 Â  Â  Â  Â  Â  Â  addSafeEventListener(elementId, event, handler) { 
 Â  Â  Â  Â  Â  Â  Â  Â  const element = document.getElementById(elementId); 
 Â  Â  Â  Â  Â  Â  Â  Â  if (element) { 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const listenerKey = `${elementId}-${event}`; 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (this.eventListeners.has(listenerKey)) { 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  element.removeEventListener(event, handler); 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  element.addEventListener(event, handler); 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.eventListeners.add(listenerKey); 
 Â  Â  Â  Â  Â  Â  Â  Â  } 
 Â  Â  Â  Â  Â  Â  } 

 Â  Â  Â  Â  Â  Â  async handleLogin(e) { 
 Â  Â  Â  Â  Â  Â  Â  Â  e.preventDefault(); 
 Â  Â  Â  Â  Â  Â  Â  Â Â  
 Â  Â  Â  Â  Â  Â  Â  Â  const email = document.getElementById('email')?.value; 
 Â  Â  Â  Â  Â  Â  Â  Â  const password = document.getElementById('password')?.value; 
 Â  Â  Â  Â  Â  Â  Â  Â  const loginBtn = document.getElementById('login-btn'); 

 Â  Â  Â  Â  Â  Â  Â  Â  if (!email || !password) { 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  window.PortalUI.showNotification('Please enter email and password', 'error'); 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return; 
 Â  Â  Â  Â  Â  Â  Â  Â  } 

 Â  Â  Â  Â  Â  Â  Â  Â  if (loginBtn) { 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  loginBtn.disabled = true; 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  loginBtn.textContent = 'Logging in...'; 
 Â  Â  Â  Â  Â  Â  Â  Â  } 

 Â  Â  Â  Â  Â  Â  Â  Â  try { 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const { data, error } = await this.auth.supabase.auth.signInWithPassword({ 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  email: email, 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  password: password 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }); 

 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (error) throw error; 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // Success is handled by auth state change listener 
 Â  Â  Â  Â  Â  Â  Â  Â  } catch (error) { 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.error('Login error:', error); 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  window.PortalUI.showNotification(error.message, 'error'); 
 Â  Â  Â  Â  Â  Â  Â  Â  } finally { 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (loginBtn) { 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  loginBtn.disabled = false; 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  loginBtn.textContent = 'Login'; 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } 
 Â  Â  Â  Â  Â  Â  Â  Â  } 
 Â  Â  Â  Â  Â  Â  } 

 Â  Â  Â  Â  Â  Â  async handleRegister(e) { 
 Â  Â  Â  Â  Â  Â  Â  Â  e.preventDefault(); 
 Â  Â  Â  Â  Â  Â  Â  Â Â  
 Â  Â  Â  Â  Â  Â  Â  Â  const email = document.getElementById('reg-email')?.value; 
 Â  Â  Â  Â  Â  Â  Â  Â  const password = document.getElementById('reg-password')?.value; 
 Â  Â  Â  Â  Â  Â  Â  Â  const username = document.getElementById('reg-username')?.value; 
 Â  Â  Â  Â  Â  Â  Â  Â  const firstName = document.getElementById('reg-firstname')?.value; 
 Â  Â  Â  Â  Â  Â  Â  Â  const lastName = document.getElementById('reg-lastname')?.value; 
 Â  Â  Â  Â  Â  Â  Â  Â  const grade = document.getElementById('reg-grade')?.value; 
 Â  Â  Â  Â  Â  Â  Â  Â  const userType = document.getElementById('reg-usertype')?.value; 

 Â  Â  Â  Â  Â  Â  Â  Â  const registerBtn = document.getElementById('register-submit-btn'); 

 Â  Â  Â  Â  Â  Â  Â  Â  if (!email || !password || !username || !firstName || !lastName || !userType) { 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  window.PortalUI.showNotification('Please fill in all required fields', 'error'); 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return; 
 Â  Â  Â  Â  Â  Â  Â  Â  } 

 Â  Â  Â  Â  Â  Â  Â  Â  if (registerBtn) { 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  registerBtn.disabled = true; 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  registerBtn.textContent = 'Registering...'; 
 Â  Â  Â  Â  Â  Â  Â  Â  } 

 Â  Â  Â  Â  Â  Â  Â  Â  try { 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const { data: authData, error: authError } = await this.auth.supabase.auth.signUp({ 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  email: email, 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  password: password 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }); 

 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (authError) throw authError; 

 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const { error: profileError } = await this.auth.supabase 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  .from('user_profiles') 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  .insert({ 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  id: authData.user.id, 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  email: email, 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  username: username, 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  first_name: firstName, 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  last_name: lastName, 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  user_type: userType, 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  grade_level: userType === 'student' ? grade : null 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }); 

 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (profileError) throw profileError; 

 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  window.PortalUI.showNotification('Registration successful! Please check your email to verify your account.', 'success'); 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.showLoginForm(); 

 Â  Â  Â  Â  Â  Â  Â  Â  } catch (error) { 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.error('Registration error:', error); 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  window.PortalUI.showNotification(error.message, 'error'); 
 Â  Â  Â  Â  Â  Â  Â  Â  } finally { 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (registerBtn) { 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  registerBtn.disabled = false; 
 Â  Â  Â  Â  Â  Â  _BOS_
